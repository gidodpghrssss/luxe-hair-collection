{% extends "base.html" %}

{% block title %}Customer Support - Luxe Hair Collection{% endblock %}

{% block content %}
<div class="container py-5">
    <div class="row">
        <div class="col-lg-8 mx-auto">
            <div class="card shadow">
                <div class="card-header bg-primary text-white">
                    <h4 class="mb-0">
                        <i class="fas fa-comments me-2"></i> Chat with Luxe Assistant
                    </h4>
                </div>
                <div class="card-body p-0">
                    <div id="chat-container" class="chat-container">
                        <div id="chat-messages" class="chat-messages p-3" style="height: 400px; overflow-y: auto;">
                            <!-- Chat messages will be inserted here -->
                        </div>
                        
                        <div class="chat-input-container p-3 border-top">
                            <form id="chat-form" class="d-flex">
                                <input 
                                    type="text" 
                                    id="chat-input" 
                                    class="form-control me-2" 
                                    placeholder="Type your message here..." 
                                    autocomplete="off"
                                >
                                <button 
                                    type="submit" 
                                    id="chat-button" 
                                    class="btn btn-primary"
                                >
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card mt-4">
                <div class="card-header">
                    <h5 class="mb-0">Get Product Recommendations</h5>
                </div>
                <div class="card-body">
                    <p>Tell us about your preferences and get personalized product recommendations.</p>
                    
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label for="hairType" class="form-label">Hair Type</label>
                            <select class="form-select" id="hairType">
                                <option value="All">All Types</option>
                                <option value="Brazilian">Brazilian</option>
                                <option value="Peruvian">Peruvian</option>
                                <option value="Malaysian">Malaysian</option>
                                <option value="Indian">Indian</option>
                                <option value="European">European</option>
                            </select>
                        </div>
                        
                        <div class="col-md-6">
                            <label for="texture" class="form-label">Texture</label>
                            <select class="form-select" id="texture">
                                <option value="All">All Textures</option>
                                <option value="Straight">Straight</option>
                                <option value="Body Wave">Body Wave</option>
                                <option value="Deep Wave">Deep Wave</option>
                                <option value="Curly">Curly</option>
                                <option value="Kinky Curly">Kinky Curly</option>
                                <option value="Water Wave">Water Wave</option>
                            </select>
                        </div>
                        
                        <div class="col-md-6">
                            <label for="length" class="form-label">Length</label>
                            <select class="form-select" id="length">
                                <option value="All">All Lengths</option>
                                <option value="8-10">8-10 inches</option>
                                <option value="12-14">12-14 inches</option>
                                <option value="16-18">16-18 inches</option>
                                <option value="20-22">20-22 inches</option>
                                <option value="24-26">24-26 inches</option>
                                <option value="28-30">28-30 inches</option>
                            </select>
                        </div>
                        
                        <div class="col-md-6">
                            <label for="color" class="form-label">Color</label>
                            <select class="form-select" id="color">
                                <option value="Natural Black">Natural Black</option>
                                <option value="Jet Black">Jet Black</option>
                                <option value="Dark Brown">Dark Brown</option>
                                <option value="Medium Brown">Medium Brown</option>
                                <option value="Light Brown">Light Brown</option>
                                <option value="Honey Blonde">Honey Blonde</option>
                                <option value="Platinum Blonde">Platinum Blonde</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="mt-3">
                        <button id="recommendation-button" class="btn btn-primary">
                            Get Product Recommendations
                        </button>
                    </div>
                </div>
            </div>
            
            <div class="card mt-4">
                <div class="card-header">
                    <h5 class="mb-0">Frequently Asked Questions</h5>
                </div>
                <div class="card-body">
                    <div class="accordion" id="faqAccordion">
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq1">
                                    What types of hair does Luxe Hair Collection offer?
                                </button>
                            </h2>
                            <div id="faq1" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Luxe Hair Collection offers premium quality human hair in various types including Brazilian, Peruvian, Malaysian, Indian, and European hair. Each type has unique characteristics to suit different preferences and styling needs.
                                </div>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq2">
                                    How long does shipping take?
                                </button>
                            </h2>
                            <div id="faq2" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Domestic shipping typically takes 3-5 business days. International shipping can take 7-14 business days depending on the destination country.
                                </div>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq3">
                                    How do I care for my hair extensions?
                                </button>
                            </h2>
                            <div id="faq3" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    For optimal longevity, wash your extensions with sulfate-free products every 7-10 days, deep condition monthly, avoid excessive heat styling, and store properly when not in use. Use a wide-tooth comb for detangling and always start from the ends working your way up.
                                </div>
                            </div>
                        </div>
                        
                        <div class="accordion-item">
                            <h2 class="accordion-header">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq4">
                                    What is your return policy?
                                </button>
                            </h2>
                            <div id="faq4" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                                <div class="accordion-body">
                                    Unworn hair in original packaging can be returned within 30 days of purchase. Custom-colored items are final sale. Customers are responsible for return shipping costs unless the return is due to a defect or error on our part.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    .chat-message {
        display: flex;
        margin-bottom: 15px;
    }
    
    .user-message {
        justify-content: flex-end;
    }
    
    .bot-message {
        justify-content: flex-start;
    }
    
    .avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        overflow: hidden;
        margin-right: 10px;
    }
    
    .avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    
    .message-content {
        max-width: 70%;
        padding: 10px 15px;
        border-radius: 18px;
        position: relative;
    }
    
    .user-message .message-content {
        background-color: #007bff;
        color: white;
        border-bottom-right-radius: 5px;
    }
    
    .bot-message .message-content {
        background-color: #f0f2f5;
        color: #333;
        border-bottom-left-radius: 5px;
    }
    
    .message-time {
        font-size: 0.75rem;
        color: rgba(255, 255, 255, 0.7);
        margin-top: 5px;
        display: block;
        text-align: right;
    }
    
    .bot-message .message-time {
        color: #888;
    }
    
    .typing-dots {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 30px;
    }
    
    .typing-dots span {
        width: 8px;
        height: 8px;
        margin: 0 2px;
        background-color: #888;
        border-radius: 50%;
        display: inline-block;
        animation: typingAnimation 1.4s infinite ease-in-out both;
    }
    
    .typing-dots span:nth-child(1) {
        animation-delay: 0s;
    }
    
    .typing-dots span:nth-child(2) {
        animation-delay: 0.2s;
    }
    
    .typing-dots span:nth-child(3) {
        animation-delay: 0.4s;
    }
    
    @keyframes typingAnimation {
        0%, 80%, 100% { 
            transform: scale(0.7);
            opacity: 0.5;
        }
        40% { 
            transform: scale(1);
            opacity: 1;
        }
    }
</style>
{% endblock %}

{% block scripts %}
<!-- Add the chatbot.js script -->
<script src="{{ url_for('static', filename='js/chatbot.js') }}"></script>
{% endblock %}
